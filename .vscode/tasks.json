{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Gen Abseil RSP (cmd one-liner)",
      "type": "shell",
      "command": "cmd.exe",
      "args": [
        "/d",
        "/c",
        "if not exist \"C:\\Users\\yunch\\Important\\Project\\debate\\.vscode\" mkdir \"C:\\Users\\yunch\\Important\\Project\\debate\\.vscode\" ^& (for %F in (\"C:\\Users\\yunch\\Important\\Project\\debate\\third_party\\vcpkg\\installed\\x64-mingw-dynamic\\lib\\libabsl_*.dll.a\") do @echo \"%~fF\") > \"C:\\Users\\yunch\\Important\\Project\\debate\\.vscode\\absl.rsp\""
      ],
      "options": {
        "env": {
          "PATH": "C:\\mingw-w64\\mingw64\\bin;C:\\Users\\yunch\\Important\\Project\\debate\\third_party\\vcpkg\\installed\\x64-mingw-dynamic\\bin;${env:PATH}"
        }
      },
      "problemMatcher": []
    },
    {
      "label": "Build active C++ file (dynamic)",
      "type": "shell",
      "command": "g++",
      "args": [
        "-std=c++17",
        // "-g", // debug
        "-D_WIN32_WINNT=0x0A00",
        "-DPROTOBUF_USE_DLLS",


        "${file}",
        "C:/Users/yunch/Important/Project/debate/src/gen/cpp/*.pb.cc",
        "C:/Users/yunch/Important/Project/debate/cppserver/src/debate/main/EventHandler.cc",
        "C:/Users/yunch/Important/Project/debate/cppserver/src/debate/DebateModerator.cpp",
        "C:/Users/yunch/Important/Project/debate/cppserver/src/debate/DebateDatabaseHandler.cc",
        "C:/Users/yunch/Important/Project/debate/cppserver/src/virtualRenderer/pageGenerator.cpp",
        "C:/Users/yunch/Important/Project/debate/cppserver/src/virtualRenderer/virtualRenderer.cpp",
        "C:/Users/yunch/Important/Project/debate/cppserver/src/database/databaseCommunicator.cc",
        // "C:/Users/yunch/Important/Project/debate/cppserver/src/debate/main/events/addDebateTopic.cc",
        // "C:/Users/yunch/Important/Project/debate/cppserver/src/debate/main/events/clearDebateTopics.cc",
        "C:/Users/yunch/Important/Project/debate/cppserver/src/database/sqlite3.o",
       
        "-IC:/Users/yunch/Important/Project/debate/cppserver/src/server",
        "-IC:/Users/yunch/Important/Project/debate/cppserver/src/virtualRenderer",
        "-IC:/Users/yunch/Important/Project/debate/cppserver/src/main",
        "-IC:/Users/yunch/Important/Project/debate/src/gen/cpp",
        "-IC:/Users/yunch/Important/Project/debate/third_party/vcpkg/installed/x64-mingw-dynamic/include",


        "-LC:/Users/yunch/Important/Project/debate/third_party/vcpkg/installed/x64-mingw-dynamic/lib",
        "-LC:/Users/yunch/Important/Project/debate/third_party/vcpkg/installed/x64-mingw-static/lib",
        "-Wl,--start-group",
        "-lprotobuf",
        "@C:/Users/yunch/Important/Project/debate/.vscode/absl.rsp",
        "-lzlib",
        "-lws2_32",
        "-lsqlite3",
        "-Wl,--end-group",


        "-o",
        "${fileDirname}/${fileBasenameNoExtension}.exe"
      ],
      "options": {
        "shell": {
          "executable": "C:\\Windows\\System32\\cmd.exe",
          "args": ["/d", "/c"]
        },
        "env": {
          "PATH": "C:\\mingw-w64\\mingw64\\bin;C:\\Users\\yunch\\Important\\Project\\debate\\third_party\\vcpkg\\installed\\x64-mingw-dynamic\\bin;${env:PATH}"
        }
      },
      "dependsOn": ["Gen Abseil RSP (cmd one-liner)"],
      "group": { "kind": "build", "isDefault": true },
      "problemMatcher": "$gcc"
    },
    {
      "label": "Run active exe",
      "type": "shell",
      "command": "${fileDirname}/${fileBasenameNoExtension}.exe",
      "options": {
        "env": {
          "PATH": "C:\\mingw-w64\\mingw64\\bin;C:\\Users\\yunch\\Important\\Project\\debate\\third_party\\vcpkg\\installed\\x64-mingw-dynamic\\bin;${env:PATH}"
        }
      },
      "dependsOn": ["Build active C++ file (dynamic)"],
      "problemMatcher": []
    }
  ]
}
