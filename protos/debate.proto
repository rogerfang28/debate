syntax = "proto3";

package debate;

import "debate_settings.proto";

// A single claim node in the debate graph
message Claim {
  string id = 1; // unique claim ID
  string sentence = 2;
  string description = 3;
  string parent_id = 4;
  repeated string children_ids = 5;
  string connection_to_parent = 6; // e.g., "supports", "opposes"
  Proof proof = 7; // proof structure for this claim
}

message Link {
  string connect_from = 1;
  string connect_to = 2;
  string connection = 3;  
}

message Proof {
  repeated Claim claims = 1;
  repeated Link links = 2;
  
}

message Debate {
  string id = 1;
  string topic = 2;
  repeated string debaters = 3; // user id of participants
  repeated Claim claims = 4; // every claim in the debate
  string owner = 5; // user id of debate creator
  debate.DebateSettings settings = 6; // settings for this debate
  int32 num_items = 7; // total number of items in the debate so we can assign unique IDs
  Claim root_claim = 8; // the root claim representing the main topic
}
