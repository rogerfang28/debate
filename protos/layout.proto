syntax = "proto3";
package layout;

// ====================
// Root Page Definition
// ====================
message Page {
  string page_id = 1;                // Unique ID of the page
  string title = 2;                  // Optional title or header text
  repeated Component components = 3; // Top-level components in this page
}

// ====================
// Core Component Model
// ====================
message Component {
  string id = 1;                     // Unique component ID
  ComponentType type = 2;            // Determines how to render
  string text = 3;                   // Display text (optional)
  string value = 4;                  // Current user-entered value (e.g. input text)
  repeated Component children = 5;   // Nested components for layout
  string style = 6;                  // Tailwind or CSS class
  map<string, string> events = 7;    // Event bindings (e.g. "onClick" -> "{\"actionId\":\"submitTopic\"}")
}

// ====================
// Event Payload (Frontend â†’ Backend)
// ====================
message UIEvent {
  string triggered_component_id = 1; // The component that triggered the event
  string event_key = 2;              // e.g. "onClick", "onEnter"
  Page current_page = 3;             // The full current page snapshot (includes user inputs)
}

// ====================
// Enums
// ====================
enum ComponentType {
  UNKNOWN = 0;
  CONTAINER = 1;
  TEXT = 2;
  BUTTON = 3;
  INPUT = 4;
  IMAGE = 5;
  LIST = 6;
}
